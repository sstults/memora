# -------------------------
# Core
# -------------------------
NODE_ENV=development
PORT=4000

# -------------------------
# OpenSearch
# -------------------------
OPENSEARCH_URL=http://localhost:9200
# OPENSEARCH_USERNAME=admin
# OPENSEARCH_PASSWORD=admin
# For self-signed local dev certs set to false
OPENSEARCH_SSL_REJECT_UNAUTHORIZED=true

# Index naming overrides (optional)
MEMORA_METRICS_INDEX=mem-metrics
MEMORA_SEMANTIC_INDEX=mem-semantic
MEMORA_FACTS_INDEX=mem-facts
MEMORA_EPI_PREFIX=mem-episodic-

# -------------------------
# Embeddings
# -------------------------
# If set, Memora will POST to this endpoint with {texts, dim}
# and expect {vectors: number[][]}
# If unset, a deterministic hash-based fallback is used
# EMBEDDING_ENDPOINT=http://localhost:8080/embed  # optional; if unset, deterministic local fallback is used
# EMBEDDING_API_KEY=changeme
MEMORA_EMBED_DIM=1024
MEMORA_EMBED_TIMEOUT_MS=8000
MEMORA_EMBED_RETRIES=3

# -------------------------
# Reranker (optional)
# -------------------------
# If set, Memora will POST to this endpoint with {query, candidates}
# and expect {scores: number[]}
RERANK_ENDPOINT=http://localhost:8081/rerank
RERANK_API_KEY=changeme
RERANK_TIMEOUT_MS=1500
RERANK_MAX_RETRIES=2

# -------------------------
# Evaluation (optional)
# -------------------------
# Mirror eval.log entries into the episodic log
MEMORA_EVAL_EPISODIC_MIRROR=false

# -------------------------
# Memory defaults
# -------------------------
MEMORA_DEFAULT_BUDGET=12
MEMORA_RERANK_ENABLED=false

# -------------------------
# Logging / Debug
# -------------------------
DEBUG=memora:*
LOG_LEVEL=info
